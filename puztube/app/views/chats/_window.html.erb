<div id="chatwindow" class="rounded" style="position:fixed; top: 0px; right: 0px; width: 400px; height: 400px; background-color: #fff;">
<div class="rounded_title">Chat</div>
<div style="height: 200px; padding:3px; overflow: auto" id="chatpane">
  <ul class="chatlist">
    <% chats.reverse_each do |c| %>
      <li>  <%=h c.dateformat %> <b><%=h c.user %>:</b> <%= sanitize_text(c.text) %> </li>
    <% end %>
  </ul>
</div>
<div id="chatbox" style="padding: 3px;">
<% form_remote_tag(
                  :url => { :action => 'chat', :id => cid },
                  :complete => "$('chat_input').value = '';" ) do %>
<%= text_field_tag( :chat_input, '', { :size => 20, :id => :chat_input } ) %>
<%= submit_tag "Add", :disable_with => "Sending..." %>
<% end %>
</div>
<div id="chatusers" style="padding:3px;">
  Users:
  <ul class="userlist">
  </ul>
</div>
</div>